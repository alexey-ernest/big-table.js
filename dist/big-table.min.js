"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t+=1){var n=arguments[t];if(null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),window.BigList=function(e){"use strict";function t(t){function n(e){var n=t.render(e);return n.style.height=t.itemHeight+"px",n.style.position="absolute",n.style.top=e*t.itemHeight+"px",n.style.left=0,n.style.right=0,n}function r(e,r){r>t.totalCount&&(r=t.totalCount);var o;Object.keys(_).forEach(function(t){if(!(t>=e&&t<r)){var n=_[t];n.style.display="none",y[t]=n,delete _[t]}});for(var i=p.createDocumentFragment(),a=e;a<r;a+=1)void 0===_[a]&&void 0===y[a]?(o=n(a),_[a]=o,i.appendChild(o)):void 0!==y[a]&&(o=y[a],o.style.display="block",_[a]=o,delete y[a]);f.appendChild(i)}function o(e){!e&&new Date-b<100||(Object.keys(y).forEach(function(e){f.removeChild(y[e])}),Object.keys(y).length>0&&(y={}))}function i(e){var n=e.target.scrollTop;if(!v||Math.abs(n-v)>t.height){var o=parseInt(n/t.itemHeight)-h;o=o<0?0:o,r(o,o+3*h),v=n}b=new Date,e.preventDefault()}function a(e){for(var t=e.lastChild;t;)e.removeChild(t),t=e.lastChild}function l(e){a(e),e.style.display="none",e.style.height=t.height+"px",e.style.overflow="auto",e.style.position="relative",e.style.padding="0",e.style.clear="both",e.style.display="block",e.addEventListener("scroll",i)}function c(){var e=p.createElement("div");return e.style.opacity=0,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="1px",e.style.height=t.itemHeight*t.totalCount+"px",e}function s(){if(f=p.querySelector(t.container),null===f)throw new Error("Could not find "+t.container+" element in the DOM.");t=Object.assign({},m,t),l(f);var e=c();f.appendChild(e),h=Math.ceil(t.height/t.itemHeight),r(0,2*h),g=setInterval(o,300)}function d(){Object.assign(y,_),o(!0);var e=Object.keys(_).map(function(e){return parseInt(e)});e=e.sort(function(e,t){return e-t}),_={},r(e[0],e[e.length-1]+1)}function u(){f.removeEventListener("scroll",i),clearInterval(g),_={},y={},a(f)}var f,h,v,b,g,m={container:null,height:500,itemHeight:30,totalCount:1e3},p=e.document,y={},_={};return s(),{destroy:u,redraw:d}}return t}(window),window.BigTable=function(e,t){"use strict";function n(){try{var t=e.localStorage,n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(r){return!1}}function r(r){function o(e){return/^http(s)?:\/\//.test(e)}function i(e,t){Array.isArray(t)||(t=t.split(" "));for(var n=D.createElement("div"),r=0,i=t.length;r<i;r+=1)n.classList.add(t[r]);var a=D.createTextNode(e);if(o(e)){var l=D.createElement("a");l.href=e,l.appendChild(a),a=l}return n.appendChild(a),n}function a(e,t){var n=r.columns[e],o=[];return Object.keys(n.css).forEach(function(e){(n.css[e]===!0||n.css[e](t))&&o.push(e)}),o}function l(){var e=D.createElement("div");e.classList.add("big-table__header"),e.style.overflow="hidden";for(var t,n,o=0,l=r.columns.length;o<l;o+=1)t=a(o),t.push("big-table__col-header"),r.columns[o].type!==Number&&r.columns[o].type!==String||t.push("big-table__col-header-sortable"),n=i(r.columns[o].title,t),n.setAttribute("data-idx",o),e.appendChild(n);return e}function c(){var e=D.createElement("div");return e.classList.add("big-table__body"),e}function s(e){var t=D.createElement("div");t.classList.add("big-table__row");for(var n,o,l=0,c=r.columns.length;l<c;l+=1)n=r.columns[l].key?r.data[e][r.columns[l].key]:null,o=a(l,n),o.push("big-table__cell"),n=r.columns[l].format&&r.columns[l].format(n)||n,t.appendChild(i(n,o));return t}function d(){if(!r.container)throw new Error("container option required.");if(!r.data)throw new Error("data option required.");if(!r.columns)throw new Error("columns option required.")}function u(){S&&S.redraw()}function f(e,t){return function(n,r){var o=n[e]-r[e];return t?-o:o}}function h(e,t){return function(n,r){return n[e]>r[e]?t?-1:1:n[e]<r[e]?t?1:-1:0}}function v(e,t){var n,r,o=I.childNodes,i=o.length;for(r=0;r<i;r+=1)n=o[r],r===e?(n.classList.remove("big-table__col-header_sorted-asc","big-table__col-header_sorted-desc"),n.classList.add("big-table__col-header_sorted",t?"big-table__col-header_sorted-desc":"big-table__col-header_sorted-asc")):n.classList.remove("big-table__col-header_sorted","big-table__col-header_sorted-asc","big-table__col-header_sorted-desc")}function b(e){var t=k;return e&&(t=e+t),t}function g(t){void 0===t.desc&&(t.desc=!1),H?e.localStorage.setItem(b("sortOrder"),JSON.stringify(t)):q=t}function m(){var t;return H?(t=e.localStorage.getItem(b("sortOrder")),t=t?JSON.parse(t):null):t=q,t||{}}function p(e,t){v(e,t);var n=r.columns[e].key;if(r.columns[e].type===Number)r.data.sort(f(n,t));else{if(r.columns[e].type!==String)return;r.data.sort(h(n,t))}u()}function y(e,t){var n=m();n.column===e?n.desc=!n.desc:(n.column=e,n.desc=void 0!==t&&!t),g(n),p(n.column,n.desc)}function _(t){t=t||e.event;var n=t.target||t.srcElement;if(n.classList.contains("big-table__col-header")){var o=+n.getAttribute("data-idx");r.columns[o].type!==Number&&r.columns[o].type!==String||y(o)}}function w(){I.addEventListener("click",_)}function C(){I.removeEventListener("click",_)}function E(){for(var e,t=0,n=r.columns.length;t<n;t+=1)if(e=r.columns[t].sorted,void 0!==e)return void y(t,e);var o=m();o.column&&p(o.column,o.desc)}function O(){if(r=Object.assign({},N,r),d(),k=r.container,x=D.querySelector(r.container),null===x)throw new Error("Could not find "+r.container+" element in the DOM.");L(x),x.classList.add("big-table"),I=l(),w(),x.appendChild(I);var e=c();x.appendChild(e),E(),r.container+=" .big-table__body",r.totalCount=r.data.length,S=new t(r)}function L(e){for(var t=e.lastChild;t;)e.removeChild(t),t=e.lastChild}function j(){S&&(C(),I=null,S.destroy(),S=null,L(x))}var k,S,x,I,N={container:void 0,data:void 0,columns:void 0,render:s},D=e.document,H=n(),q={};return O(),{destroy:j}}return r}(window,window.BigList);